# MwXdump - 微信聊天记录管理工具

一个用Rust编写的高性能微信聊天记录提取、解密和管理工具，支持Windows和macOS平台。

## 🚀 项目功能

### 核心功能
- **进程检测** - 自动检测运行中的微信进程并获取基本信息
- **密钥提取** - 从微信进程内存中安全提取解密密钥
- **数据解密** - 解密微信数据库和多媒体文件
- **数据管理** - 提供CLI和Web界面管理聊天记录
- **跨平台支持** - 支持Windows和macOS操作系统

### 技术特性
- **高性能** - 基于Rust异步编程，支持并发处理
- **安全可靠** - 内存安全，敏感数据自动清理
- **模块化设计** - 清晰的架构分层，易于扩展维护
- **多种接口** - 支持CLI命令行、TUI终端界面和Web服务

## 📋 使用场景

- **个人数据备份** - 备份和管理个人微信聊天记录
- **数据迁移** - 在不同设备间迁移微信数据
- **数据分析** - 对聊天记录进行统计分析
- **开发调试** - 为微信相关开发提供数据支持

## ⚠️ 版本支持说明

**重要提醒**: 本工具仅支持微信4.0+版本，不支持微信3.x版本。

### 支持的版本
- ✅ 微信 4.0.0 及以上版本
- ❌ 微信 3.x 系列版本（已不再支持）

### 版本检查
使用以下命令检查您的微信版本：
```bash
# 检测当前运行的微信进程和版本
cargo run --release -- process
```

如果您使用的是微信3.x版本，建议升级到最新版本以获得完整功能支持。详细的版本支持策略请查看 [版本支持文档](./docs/version-support-policy.md)。

## 🛠️ 构建与运行

### 环境要求
- Rust 1.70+
- Windows 10+ 或 macOS 10.15+
- 微信客户端（仅支持4.0+版本，不支持3.x版本）

### 编译项目
```bash
# 克隆项目
git clone <repository-url>
cd mwxdump-rs

# 编译项目
cargo build --release

# 运行项目
cargo run --release
```

### 命令使用
```bash
# 启动TUI界面
cargo run --release

# 检测微信进程
cargo run --release -- process

# 提取解密密钥
cargo run --release -- key

# 解密数据文件
cargo run --release -- decrypt --input <input-file> --output <output-file>

# 启动Web服务
cargo run --release -- server --host 127.0.0.1 --port 5030

# 显示版本信息
cargo run --release -- version
```

## 📊 当前状态

**项目阶段**: 第二阶段 - 微信核心功能实现
**整体进度**: ~90% 完成

### ✅ 已完成功能
- **基础架构** (100%) - 项目结构、模块框架、错误处理
- **进程检测** (100%) - 微信进程检测和信息获取
- **CLI框架** (100%) - 命令行接口和参数处理
- **密钥提取** (100%) - 从内存提取解密密钥
- **数据解密** (100%) - 数据库文件解密，支持单文件和批量处理

### 🚧 开发中功能
- **MCP Streaming服务** (30%) - Model Context Protocol 流式服务
- **数据迁移系统** (20%) - 解密后数据迁移和汇总
- **TUI界面** (15%) - 终端用户界面

### ⏳ 计划功能
- **本地SQLite数据库** - 保存解密后的信息汇总和索引
- **配置文件增强** - 微信核心数据库描述和配置管理
- **数据导出和格式转换** - 多种格式的数据导出功能
- **多媒体文件处理** - 图片、视频等媒体文件解密

## 🗺️ 下一步计划

### Phase 3: 服务化和数据管理（2-3周）

#### 近期目标（1周）
1. **MCP Streaming服务** - 实现Model Context Protocol流式数据服务
2. **数据迁移系统** - 解密后数据的自动迁移和汇总机制
3. **本地数据库** - SQLite数据库设计和实现

#### 中期目标（2周）
1. **配置文件增强** - 增加微信核心数据库的描述和配置
2. **数据完整性** - 数据验证、索引和恢复机制
3. **TUI界面完善** - 数据浏览和查询的用户界面

#### 长期目标（1个月）
1. **性能优化** - 大数据量处理和流式传输优化
2. **功能扩展** - 媒体文件解密和数据导出功能
3. **测试完善** - 完整的单元测试和集成测试覆盖

## 📚 文档

详细的技术文档和设计文档请查看 [`docs/`](./docs/) 目录：
- [项目架构设计](./docs/architecture-design.md)
- [开发进展报告](./docs/milestone-report.md)
- [技术实现计划](./docs/phase2-plan.md)
- [完整文档索引](./docs/README.md)

## 📄 许可证

本项目采用 AGPL-3.0 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。